<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.server.dao.mapper.OrdermMapper" >
  <resultMap id="BaseResultMap" type="com.server.pojo.entity.Orderm" >
    <id column="ORDERMID" property="ordermid" jdbcType="VARCHAR" />
    <result column="ORDERMCUSTOMER" property="ordermcustomer" jdbcType="VARCHAR" />
    <result column="ORDERMCOMPANY" property="ordermcompany" jdbcType="VARCHAR" />
    <result column="ORDERMCODE" property="ordermcode" jdbcType="VARCHAR" />
    <result column="ORDERMNUM" property="ordermnum" jdbcType="DECIMAL" />
    <result column="ORDERMMONEY" property="ordermmoney" jdbcType="FLOAT" />
    <result column="ORDERMRIGHTMONEY" property="ordermrightmoney" jdbcType="FLOAT" />
    <result column="ORDERMWAY" property="ordermway" jdbcType="VARCHAR" />
    <result column="ORDERMSTATUE" property="ordermstatue" jdbcType="VARCHAR" />
    <result column="ORDERMDETAIL" property="ordermdetail" jdbcType="VARCHAR" />
    <result column="ORDERMTIME" property="ordermtime" jdbcType="VARCHAR" />
    <result column="ORDERMCONNECT" property="ordermconnect" jdbcType="VARCHAR" />
    <result column="ORDERMPHONE" property="ordermphone" jdbcType="VARCHAR" />
    <result column="ORDERMADDRESS" property="ordermaddress" jdbcType="VARCHAR" />
    <result column="UPDTIME" property="updtime" jdbcType="VARCHAR" />
    <result column="UPDOR" property="updor" jdbcType="VARCHAR" />
    <result column="ORDERMEMP" property="ordermemp" jdbcType="VARCHAR" />
    <!-- 客户 -->
    <association property="orderdCustomer" javaType="com.server.pojo.entity.Customer">
	    <id column="CUSTOMERID" property="customerid" jdbcType="VARCHAR" />
	    <result column="CUSTOMERCODE" property="customercode" jdbcType="VARCHAR" />
	    <result column="CUSTOMERNAME" property="customername" jdbcType="VARCHAR" />
	    <result column="CUSTOMERPHONE" property="customerphone" jdbcType="VARCHAR" />
	    <result column="CUSTOMERPSW" property="customerpsw" jdbcType="VARCHAR" />
	    <result column="CUSTOMERSHOP" property="customershop" jdbcType="VARCHAR" />
	    <result column="CUSTOMERCITY" property="customercity" jdbcType="VARCHAR" />
	    <result column="CUSTOMERXIAN" property="customerxian" jdbcType="VARCHAR" />
	    <result column="CUSTOMERADDRESS" property="customeraddress" jdbcType="VARCHAR" />
	    <result column="CUSTOMERTYPE" property="customertype" jdbcType="VARCHAR" />
	    <result column="CUSTOMERLEVEL" property="customerlevel" jdbcType="DECIMAL" />
	    <result column="OPENID" property="openid" jdbcType="VARCHAR" />
	    <result column="CUSTOMERDETAIL" property="customerdetail" jdbcType="VARCHAR" />
	    <result column="CUSTOMERSTATUE" property="customerstatue" jdbcType="VARCHAR" />
	    <result column="CREATETIME" property="createtime" jdbcType="VARCHAR" />
	    <result column="UPDTIME" property="updtime" jdbcType="VARCHAR" />
	 </association>
    <!-- 订单详情 -->
    <collection property="orderdList" ofType="com.server.pojo.entity.Orderd">
    	<id column="ORDERDID" property="orderdid" jdbcType="VARCHAR" />
	    <result column="ORDERDORDERM" property="orderdorderm" jdbcType="VARCHAR" />
	    <result column="ORDERDCODE" property="orderdcode" jdbcType="VARCHAR" />
	    <result column="ORDERDTYPE" property="orderdtype" jdbcType="VARCHAR" />
	    <result column="ORDERDNAME" property="orderdname" jdbcType="VARCHAR" />
	    <result column="ORDERDDETAIL" property="orderddetail" jdbcType="VARCHAR" />
	    <result column="ORDERDUNITS" property="orderdunits" jdbcType="VARCHAR" />
	    <result column="ORDERDPRICE" property="orderdprice" jdbcType="FLOAT" />
	    <result column="ORDERDUNIT" property="orderdunit" jdbcType="VARCHAR" />
	    <result column="ORDERDCLASS" property="orderdclass" jdbcType="VARCHAR" />
	    <result column="ORDERDNUM" property="orderdnum" jdbcType="DECIMAL" />
	    <result column="ORDERDMONEY" property="orderdmoney" jdbcType="FLOAT" />
	    <result column="ORDERDRIGHTMONEY" property="orderdrightmoney" jdbcType="FLOAT" />
    </collection>
  </resultMap>
  <sql id="Base_Column_List" >
    ORDERMID, ORDERMCUSTOMER, ORDERMCOMPANY, ORDERMCODE, ORDERMNUM, ORDERMMONEY, ORDERMRIGHTMONEY, 
    ORDERMWAY, ORDERMSTATUE, ORDERMDETAIL, ORDERMTIME, ORDERMCONNECT, ORDERMPHONE, ORDERMADDRESS, 
    UPDTIME, UPDOR, ORDERMEMP
  </sql>
  <!-- 根据供应商(和条件)查询订单 -->
  <select id="selectByCompany" resultMap="BaseResultMap" parameterType="com.server.pojo.entity.Orderm" >
    select 
    orderm.*,
    customer.customerid,
	customer.customershop
    from ORDERM
    left join customer
	on orderm.ordermcustomer = customer.customerid
    where ordermcompany = #{ordermcompany,jdbcType=VARCHAR} 
    	<if test="ordermway != null and ordermway != ''">
    		and ORDERMWAY = #{ordermway,jdbcType=VARCHAR} 
    	</if>
  </select>
  <!-- 根据主键查询 -->
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
	orderm.*,orderd.* 
	from orderm 
	left outer join orderd 
	on orderd.orderdorderm = orderm.ordermid
	where orderm.ordermid = #{ordermid,jdbcType=VARCHAR}
  </select>
  <!-- 根据主键删除 -->
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from ORDERM
    where ORDERMID = #{ordermid,jdbcType=VARCHAR}
  </delete>
  <!-- 选择性添加 -->
  <insert id="insertSelective" parameterType="com.server.pojo.entity.Orderm" >
    insert into ORDERM
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="ordermid != null" >
        ORDERMID,
      </if>
      <if test="ordermcustomer != null" >
        ORDERMCUSTOMER,
      </if>
      <if test="ordermcompany != null" >
        ORDERMCOMPANY,
      </if>
      <if test="ordermcode != null" >
        ORDERMCODE,
      </if>
      <if test="ordermnum != null" >
        ORDERMNUM,
      </if>
      <if test="ordermmoney != null" >
        ORDERMMONEY,
      </if>
      <if test="ordermrightmoney != null" >
        ORDERMRIGHTMONEY,
      </if>
      <if test="ordermway != null" >
        ORDERMWAY,
      </if>
      <if test="ordermstatue != null" >
        ORDERMSTATUE,
      </if>
      <if test="ordermdetail != null" >
        ORDERMDETAIL,
      </if>
      <if test="ordermtime != null" >
        ORDERMTIME,
      </if>
      <if test="ordermconnect != null" >
        ORDERMCONNECT,
      </if>
      <if test="ordermphone != null" >
        ORDERMPHONE,
      </if>
      <if test="ordermaddress != null" >
        ORDERMADDRESS,
      </if>
      <if test="updtime != null" >
        UPDTIME,
      </if>
      <if test="updor != null" >
        UPDOR,
      </if>
      <if test="ordermemp != null" >
        ORDERMEMP,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="ordermid != null" >
        #{ordermid,jdbcType=VARCHAR},
      </if>
      <if test="ordermcustomer != null" >
        #{ordermcustomer,jdbcType=VARCHAR},
      </if>
      <if test="ordermcompany != null" >
        #{ordermcompany,jdbcType=VARCHAR},
      </if>
      <if test="ordermcode != null" >
        #{ordermcode,jdbcType=VARCHAR},
      </if>
      <if test="ordermnum != null" >
        #{ordermnum,jdbcType=DECIMAL},
      </if>
      <if test="ordermmoney != null" >
        #{ordermmoney,jdbcType=FLOAT},
      </if>
      <if test="ordermrightmoney != null" >
        #{ordermrightmoney,jdbcType=FLOAT},
      </if>
      <if test="ordermway != null" >
        #{ordermway,jdbcType=VARCHAR},
      </if>
      <if test="ordermstatue != null" >
        #{ordermstatue,jdbcType=VARCHAR},
      </if>
      <if test="ordermdetail != null" >
        #{ordermdetail,jdbcType=VARCHAR},
      </if>
      <if test="ordermtime != null" >
        #{ordermtime,jdbcType=VARCHAR},
      </if>
      <if test="ordermconnect != null" >
        #{ordermconnect,jdbcType=VARCHAR},
      </if>
      <if test="ordermphone != null" >
        #{ordermphone,jdbcType=VARCHAR},
      </if>
      <if test="ordermaddress != null" >
        #{ordermaddress,jdbcType=VARCHAR},
      </if>
      <if test="updtime != null" >
        #{updtime,jdbcType=VARCHAR},
      </if>
      <if test="updor != null" >
        #{updor,jdbcType=VARCHAR},
      </if>
      <if test="ordermemp != null" >
        #{ordermemp,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <!-- 根据主键选择性修改 -->
  <update id="updateByPrimaryKeySelective" parameterType="com.server.pojo.entity.Orderm" >
    update ORDERM
    <set >
      <if test="ordermcustomer != null" >
        ORDERMCUSTOMER = #{ordermcustomer,jdbcType=VARCHAR},
      </if>
      <if test="ordermcompany != null" >
        ORDERMCOMPANY = #{ordermcompany,jdbcType=VARCHAR},
      </if>
      <if test="ordermcode != null" >
        ORDERMCODE = #{ordermcode,jdbcType=VARCHAR},
      </if>
      <if test="ordermnum != null" >
        ORDERMNUM = #{ordermnum,jdbcType=DECIMAL},
      </if>
      <if test="ordermmoney != null" >
        ORDERMMONEY = #{ordermmoney,jdbcType=FLOAT},
      </if>
      <if test="ordermrightmoney != null" >
        ORDERMRIGHTMONEY = #{ordermrightmoney,jdbcType=FLOAT},
      </if>
      <if test="ordermway != null" >
        ORDERMWAY = #{ordermway,jdbcType=VARCHAR},
      </if>
      <if test="ordermstatue != null" >
        ORDERMSTATUE = #{ordermstatue,jdbcType=VARCHAR},
      </if>
      <if test="ordermdetail != null" >
        ORDERMDETAIL = #{ordermdetail,jdbcType=VARCHAR},
      </if>
      <if test="ordermtime != null" >
        ORDERMTIME = #{ordermtime,jdbcType=VARCHAR},
      </if>
      <if test="ordermconnect != null" >
        ORDERMCONNECT = #{ordermconnect,jdbcType=VARCHAR},
      </if>
      <if test="ordermphone != null" >
        ORDERMPHONE = #{ordermphone,jdbcType=VARCHAR},
      </if>
      <if test="ordermaddress != null" >
        ORDERMADDRESS = #{ordermaddress,jdbcType=VARCHAR},
      </if>
      <if test="updtime != null" >
        UPDTIME = #{updtime,jdbcType=VARCHAR},
      </if>
      <if test="updor != null" >
        UPDOR = #{updor,jdbcType=VARCHAR},
      </if>
      <if test="ordermemp != null" >
        ORDERMEMP = #{ordermemp,jdbcType=VARCHAR},
      </if>
    </set>
    where ORDERMID = #{ordermid,jdbcType=VARCHAR}
  </update>
</mapper>